<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CALENDARIOS TURNOS MÉDICOS</title>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/luxon/3.0.3/luxon.min.js"></script>

  <link rel="stylesheet" href="/public/css/estilo_calendario.css">
</head>

<body>
  <div id="calendar-container">
    <div id="calendar"></div>
  </div>

  <!-- Popup para crear o editar un turno -->
  <div class="popup-overlay"></div>
  <div class="popup" id="event-popup">
    <h3 id="popup-title">Crear o Editar Turno</h3>

    <!-- Selector de Doctores -->
    <div>
      <label for="popup-doc_id">Doctor:</label>
      <select id="popup-doc_id" name="doc_id" required>
        <option value="" disabled selected>Seleccione un doctor</option>
      </select>
    </div>

    <!-- Campos para los datos del turno -->
    <div>
      <label for="popup-patient">Paciente:</label>
      <select id="popup-patient" name="pac_id" required>
        <option value="" disabled selected>Seleccione un paciente</option>
      </select>
    </div>

    <div>
      <label for="popup-est_id">Estado:</label>
      <select id="popup-est_id" name="est_id" required>
        <option value="" disabled selected>Seleccione un estado</option>
      </select>
    </div>

    <div>
      <label for="popup-tur_dia">Fecha:</label>
      <input type="date" id="popup-tur_dia" required>
    </div>

    <div>
      <label for="popup-time">Horario disponible:</label>
      <select id="popup-time" name="tur_hora" required>
        <option value="" disabled selected>Seleccione un horario</option>
      </select>
    </div>

    <!-- Botones de acción -->
    <button id="popup-submit">Guardar Turno</button>
    <button id="popup-cancel">Cancelar</button>
  </div>

  <!-- Popup para ver detalles del turno -->
  <div class="popup" id="details-popup" style="display: none;">
    <h3>Detalles del Turno</h3>
    <p><strong>Doctor:</strong> <span id="details-doc"></span></p>
    <p><strong>Paciente:</strong> <span id="details-patient"></span></p>
    <p><strong>Fecha:</strong> <span id="details-date"></span></p>
    <p><strong>Hora:</strong> <span id="details-time"></span></p>
    <p><strong>Estado:</strong> <span id="details-status"></span></p>

    <button id="details-edit">Editar Turno</button>
    <button id="details-cancel">Cancelar Turno</button>
    <button id="details-close">Cerrar</button>
  </div>

  <script src="/public/js/calendario.js"></script>
</body>

</html>

